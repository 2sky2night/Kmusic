import{r as w,a as _,h as x,i as C,j as L}from"./index-1f548d76.js";import{u as V}from"./useSearchList-34053338.js";import{d as $,I as B,o as r,c as l,$ as e,V as E,a1 as c,W as I,e as N,U,L as u,S as f}from"./@vue-923429e4.js";import{F as b}from"./naive-ui-809e5fbb.js";import{_ as j}from"./vue-img-cutter-7be274e5.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./vue-router-70c59f8f.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";const P=(g,p,t=20)=>w.get("/cloudsearch",{params:{keywords:g,type:1,offset:(p-1)*t,limit:t}}),q={class:"search-tab"},D={key:0},F=$({__name:"Song",setup(g){const{isLoading:p,page:t,total:i,keywords:d,pageSize:a,pageSizes:h}=V(S),o=B([]);async function S(){o.length=0;try{const s=await P(d.value,t.value,a.value);if(o.length)return;if(s.code!==200&&await Promise.reject(),s.result.songCount===0){_("搜索结果为空 👀","info");return}s.result.songs.forEach(n=>{o.push(n)}),i.value=s.result.songCount}catch{_("搜索歌曲失败 😎","warning")}}return(s,n)=>{const y=x,v=b,k=C,z=L;return r(),l("div",q,[e(p)?(r(),c(z,{key:1,length:20})):(r(),l("ul",D,[E(y,{"song-list":o},null,8,["song-list"]),e(i)/e(a)>1&&o.length?(r(),c(v,{key:0,style:{"align-self":"center"},"page-slot":5,page:e(t),"onUpdate:page":n[0]||(n[0]=m=>u(t)?t.value=m:null),"item-count":e(i),"page-size":e(a),"onUpdate:pageSize":n[1]||(n[1]=m=>u(a)?a.value=m:null),"show-size-picker":"","page-sizes":e(h)},{prefix:I(()=>[N(" 共 "+U(e(i))+" 项 ",1)]),_:1},8,["page","item-count","page-size","page-sizes"])):f("",!0),o.length?f("",!0):(r(),c(k,{key:1,description:"搜索的关键词太犀利了,没有搜索结果呢 🥱","show-btn":!0}))]))])}}});const le=j(F,[["__scopeId","data-v-83a3de07"]]);export{le as default};
