import{u as $,a as I}from"./vue-router-70c59f8f.js";import{r as R,a as D,_ as E,A as F}from"./index-1f548d76.js";import{d as L,r as i,m as M,I as S,w as U,g as P,o as t,c as v,a as l,U as d,$ as c,e as r,F as y,a3 as h,a1 as p,S as W,V as X,W as k,X as T}from"./@vue-923429e4.js";import{d as j,j as G}from"./naive-ui-809e5fbb.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./vue-img-cutter-7be274e5.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";const A=[{name:"å…¨éƒ¨",value:-1},{name:"ç”·æ­Œæ‰‹",value:1},{name:"å¥³æ­Œæ‰‹",value:2},{name:"ä¹é˜Ÿ",value:3}],b=[{name:"å…¨éƒ¨",value:-1},{name:"åŽè¯­",value:7},{name:"æ¬§ç¾Ž",value:96},{name:"æ—¥æœ¬",value:8},{name:"éŸ©å›½",value:16},{name:"å…¶ä»–",value:0}],H=[{name:"çƒ­é—¨",value:-1},{name:"A",value:"A"},{name:"B",value:"B"},{name:"C",value:"C"},{name:"D",value:"D"},{name:"E",value:"E"},{name:"F",value:"F"},{name:"G",value:"G"},{name:"H",value:"H"},{name:"I",value:"I"},{name:"J",value:"J"},{name:"K",value:"K"},{name:"L",value:"L"},{name:"M",value:"M"},{name:"N",value:"N"},{name:"O",value:"O"},{name:"P",value:"P"},{name:"Q",value:"Q"},{name:"R",value:"R"},{name:"S",value:"S"},{name:"T",value:"T"},{name:"U",value:"U"},{name:"V",value:"V"},{name:"W",value:"W"},{name:"X",value:"X"},{name:"Y",value:"Y"},{name:"Z",value:"Z"},{name:"å…¶ä»–",value:0}],J=(V=-1,n,s,u,m=24)=>R.get("/artist/list",{params:{limit:m,area:V,offset:s,initial:u,type:n}}),K={class:"discover-artist"},O={class:"filter"},Q={class:"filter-artist"},Y={class:"filter-area"},Z={class:"filter-words"},q={class:"music-list",style:{"margin-top":"20px"}},Ae=L({__name:"Artist",setup(V){I(),$();const n=i(-1),s=i(-1),u=i(-1),m=M(()=>b[b.findIndex(a=>a.value===n.value)].name+A[A.findIndex(a=>a.value===s.value)].name),_=S([]),f=i(!0),B=i(!1),g=i(!0);function w(a,o){switch(a){case"word":u.value=o;break;case"artist":s.value=o;break;case"area":n.value=o;break}}async function C(){f.value=!0;try{const a=await J(n.value,s.value,_.length,u.value);a.code!==200&&await Promise.reject(),a.artists.forEach(o=>{_.push(o)}),B.value=a.more,f.value=!1}catch{D("èŽ·å–æ­Œæ‰‹åˆ—è¡¨å¤±è´¥ ðŸ¤©","warning")}}return U([n,u,s],async()=>{_.length=0,g.value=!0,await C(),g.value=!1}),P(async()=>{await C(),g.value=!1}),(a,o)=>{const x=G,N=j;return t(),v("div",K,[l("div",O,[l("h1",null,d(c(m).includes("å…¨éƒ¨")?c(m).replace("å…¨éƒ¨",""):c(m)),1),l("div",Q,[r(" æ­Œæ‰‹ "),(t(!0),v(y,null,h(c(A),e=>(t(),p(x,{bordered:!1,class:T(`tag ${s.value===e.value?"tag-active":""}`),onClick:()=>w("artist",e.value),key:e.value},{default:k(()=>[r(d(e.name),1)]),_:2},1032,["class","onClick"]))),128))]),l("div",Y,[r(" åœ°åŒº "),(t(!0),v(y,null,h(c(b),e=>(t(),p(x,{bordered:!1,class:T(`tag ${n.value===e.value?"tag-active":""}`),onClick:()=>w("area",e.value),key:e.value},{default:k(()=>[r(d(e.name),1)]),_:2},1032,["class","onClick"]))),128))]),l("div",Z,[r(" å­—æ¯ "),(t(!0),v(y,null,h(c(H),e=>(t(),p(x,{bordered:!1,onClick:()=>w("word",e.value),style:{padding:"0 10px"},class:T(`tag ${u.value===e.value?"tag-active":""}`),key:e.value},{default:k(()=>[r(d(e.name),1)]),_:2},1032,["onClick","class"]))),128))])]),l("div",q,[g.value?(t(),p(E,{key:0,length:12,"cover-radius":50,"text-center":!0})):W("",!0),l("ul",null,[(t(!0),v(y,null,h(_,e=>(t(),p(F,{key:e.id,id:e.id,name:e.name,"pic-url":e.img1v1Url},null,8,["id","name","pic-url"]))),128))]),X(N,{style:{"align-self":"center",padding:"0 80px"},loading:f.value,strong:"",secondary:"",onClick:C},{default:k(()=>[r(d(f.value?"åŠ è½½ä¸­":"åŠ è½½æ›´å¤š"),1)]),_:1},8,["loading"])])])}}});export{Ae as default};
