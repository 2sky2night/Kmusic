import{u as w,l as y,m as k,_ as U,a as f}from"./index-1f548d76.js";import{U as h,a as x}from"./UserSkeleton-f2f0991f.js";import{U as C}from"./UserPlaylist-01866a03.js";import{u as D,o as M,a as S}from"./vue-router-70c59f8f.js";import{d as $,r as m,g as B,m as V,o as r,c as s,a1 as b,S as i,V as l,W as d,e as I,U as N,$ as R}from"./@vue-923429e4.js";import{d as F}from"./naive-ui-809e5fbb.js";import{_ as L}from"./vue-img-cutter-7be274e5.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";import"./TitleHeader-f4057bc5.js";const z={class:"page"},E={key:1},P={key:2,class:"music-list"},T=$({__name:"User",setup(W){const n=w(),t=m(!0),u=S(),e=m(null),c=D();B(()=>{p(+u.params.id)});const v=V(()=>{const a=e.value;return a.avatar?a.followMe&&a.followed?"已互关":!a.followMe&&a.followed?"已关注":"关注":!1});async function _(){if(!n.cookie&&!n.isLogin){f("请先登录 😎","info");return}return f("接口异常，禁止使用! 😎","info")}async function p(a){t.value=!0;try{if(a){const o=await y(a);o.code===200&&(e.value={},e.value.avatar=o.profile.avatarUrl,e.value.createDays=o.createDays,e.value.eventCount=o.profile.eventCount,e.value.followeds=o.profile.followeds,e.value.gender=o.profile.gender,e.value.level=o.level,e.value.nickname=o.profile.nickname,e.value.signature=o.profile.signature,e.value.followed=o.profile.followed,e.value.followMe=o.profile.followMe,e.value.follows=o.profile.follows,e.value.uid=o.profile.userId,t.value=!1)}}catch{k("此用户id不存在，是否依据此id前往歌手页面? 🧐").then(()=>{c.push(`/artist?id=${u.params.id}`)}).catch(()=>{c.back()})}}return M(a=>{a.params.id&&p(+a.params.id)}),(a,o)=>{const g=F;return r(),s("div",z,[t.value?(r(),b(x,{key:0})):i("",!0),!t.value&&e.value?(r(),s("div",E,[l(h,{id:e.value.uid,avatar:e.value.avatar,"create-days":e.value.createDays,"event-count":e.value.eventCount,followeds:e.value.followeds,gender:!!e.value.gender,follows:e.value.follows,level:e.value.level,nickname:e.value.nickname,signature:e.value.signature},{default:d(()=>[l(g,{size:"small",onClick:_,style:{"margin-left":"10px"},type:e.value.followed?"primary":""},{default:d(()=>[I(N(R(v)),1)]),_:1},8,["type"])]),_:1},8,["id","avatar","create-days","event-count","followeds","gender","follows","level","nickname","signature"]),l(C,{uid:e.value.uid},null,8,["uid"])])):i("",!0),t.value?(r(),s("div",P,[l(U,{length:12,"cover-radius":10,"text-center":!1})])):i("",!0)])}}});const ge=L(T,[["__scopeId","data-v-c5e35da0"]]);export{ge as default};
