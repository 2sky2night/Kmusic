import{u as P,o as S,a as k}from"./vue-router-70c59f8f.js";import{r as w,u as N,a as U}from"./index-1f548d76.js";import{g as V}from"./index-74a80178.js";import{C as $}from"./Comment-06f31ab6.js";import{d as B,r as f,g as D,o as v,c as y,V as l,W as g,e as R,a as s,U as h,$ as T,S as j,Y as z,Z as q}from"./@vue-923429e4.js";import{G as E,_ as G}from"./naive-ui-809e5fbb.js";import{_ as H}from"./vue-img-cutter-7be274e5.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";import"./CommentCell-0c6c6eee.js";import"./TitleHeader-f4057bc5.js";const L=(a,n,t=20)=>w.get("/comment/playlist",{params:{id:a,offset:(n-1)*t,limit:t}}),M=a=>(z("data-v-e9896342"),a=a(),q(),a),W={class:"page"},Y={key:0},Z={class:"comment-infor"},b={class:"cover"},A=["src"],F={class:"infor-data"},J={class:"infor-title"},K={class:"infor-more"},O=M(()=>s("span",{style:{"font-size":"14px"}},"创建者:",-1)),Q=B({__name:"PlaylistCmt",setup(a){const n=N(),t=f(),c=f(!0),r=P(),C=k();D(()=>{m(+C.params.id)});function x(){var e;r.push(`/playlist/${(e=t.value)==null?void 0:e.id}`)}function I(){var e,o;n.userData.id===((e=t.value)==null?void 0:e.userId)?r.push("/my"):r.push(`/user/${(o=t.value)==null?void 0:o.userId}`)}async function m(e){try{const o=await V(e);o.code!==200&&await Promise.reject(),o.playlist.creator||await Promise.reject(),t.value=o.playlist,c.value=!1}catch{U("获取歌单评论失败 🤔","error"),r.replace("/404")}}return S((e,o)=>{const i=+e.params.id,p=+o.params.id;i!==p&&(c.value=!0,m(i))}),(e,o)=>{var _,d;const i=E,p=G;return v(),y("div",W,[c.value?j("",!0):(v(),y("div",Y,[l(i,null,{default:g(()=>[R("歌单评论区")]),_:1}),s("div",Z,[s("div",b,[s("img",{src:(_=t.value)==null?void 0:_.coverImgUrl},null,8,A)]),s("div",F,[s("div",J,[l(p,{"line-clamp":2,class:"text",style:{"font-size":"18px"}},{default:g(()=>{var u;return[s("span",{onClick:x},h((u=t.value)==null?void 0:u.name),1)]}),_:1})]),s("div",K,[O,s("span",{onClick:I,class:"text"},h((d=t.value)==null?void 0:d.creator.nickname),1)])])]),l($,{type:2,"get-data":T(L),id:t.value.id},null,8,["get-data","id"])]))])}}});const Vt=H(Q,[["__scopeId","data-v-e9896342"]]);export{Vt as default};
