import{u as w,o as I,a as N}from"./vue-router-70c59f8f.js";import{r as $,a as V}from"./index-1f548d76.js";import{g as B}from"./index-a4f649f6.js";import{C as z}from"./Comment-06f31ab6.js";import{d as R,r as h,g as T,o as i,c,V as _,W as y,e as U,a as e,U as u,S as x,F as j,a3 as D,$ as F,Y as H,Z as L}from"./@vue-923429e4.js";import{G as P,K as b}from"./naive-ui-809e5fbb.js";import{_ as q}from"./vue-img-cutter-7be274e5.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";import"./CommentCell-0c6c6eee.js";import"./TitleHeader-f4057bc5.js";const A=(a,t,n=20)=>$.get("/comment/music",{params:{id:a,offset:(t-1)*n,limit:n}}),E=a=>(H("data-v-d1ffff0e"),a=a(),L(),a),G={class:"page"},K={key:0},M={class:"comment-infor"},W={class:"cover"},Y=["src"],Z={class:"infor-data"},J={class:"infor-title"},O={key:0,style:{"font-size":"12px"}},Q={class:"infor-more"},X=E(()=>e("span",null,"歌手: ",-1)),tt=["onClick"],ot=R({__name:"SongCmt",setup(a){const t=h(),n=h(!0),p=w(),C=N();T(()=>{f(+C.params.id)});function S(){var o;p.push(`/song/${(o=t.value)==null?void 0:o.id}`)}function k(o){p.push(`/artist/${o}`)}async function f(o){try{const s=await B(o);s.code!==200&&await Promise.reject(),s.songs.length?t.value=s.songs[0]:await Promise.reject(),n.value=!1}catch{V("获取歌曲评论失败 🤔","error"),p.replace("/404")}}return I(async(o,s)=>{const m=+o.params.id,d=+s.params.id;m!==d&&(n.value=!0,await f(+o.params.id))}),(o,s)=>{var g,v;const m=P,d=b;return i(),c("div",G,[n.value?x("",!0):(i(),c("div",K,[_(m,null,{default:y(()=>[U("歌曲评论区")]),_:1}),e("div",M,[e("div",W,[e("img",{src:(g=t.value)==null?void 0:g.al.picUrl},null,8,Y)]),e("div",Z,[e("div",J,[_(d,{onClick:S,class:"text",style:{"font-size":"20px",display:"inline-block",margin:"0"}},{default:y(()=>{var r,l;return[e("span",null,u((r=t.value)==null?void 0:r.name),1),(l=t.value)!=null&&l.tns?(i(),c("span",O," ("+u(t.value.tns[0])+")",1)):x("",!0)]}),_:1})]),e("div",Q,[X,(i(!0),c(j,null,D((v=t.value)==null?void 0:v.ar,r=>(i(),c("span",{onClick:l=>k(r.id),key:r.id,class:"text",style:{"margin-right":"5px","font-size":"14px"}},u(r.name),9,tt))),128))])])]),_(z,{type:0,"get-data":F(A),id:t.value.id},null,8,["get-data","id"])]))])}}});const Tt=q(ot,[["__scopeId","data-v-d1ffff0e"]]);export{Tt as default};
