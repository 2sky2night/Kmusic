import{r as F,l as I,a as x,i as U}from"./index-1f548d76.js";import{u as B,o as C,a as S}from"./vue-router-70c59f8f.js";import{_ as $,U as P}from"./UserSkeletonList.vue_vue_type_script_setup_true_lang-1154ba73.js";import{d as b,r as i,I as D,g as E,o as t,c as g,a as m,U as N,a1 as l,S as c,F as R,a3 as V,W as j,e as L,$ as M,Y as q,Z as z}from"./@vue-923429e4.js";import{d as A}from"./naive-ui-809e5fbb.js";import{_ as T}from"./vue-img-cutter-7be274e5.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";const W=(o,d,u=20)=>F.get("/user/followeds",{params:{uid:o,offset:d,limit:u}}),Y=o=>(q("data-v-78915c5c"),o=o(),z(),o),Z={class:"page"},G={class:"title"},H={style:{"font-size":"25px"}},J=Y(()=>m("span",null," çš„ç²‰ä¸",-1)),K={class:"list"},O={key:0},Q=b({__name:"Fans",setup(o){const d=B(),u=S(),a=i(!0),_=i(!1),r=D([]),f=i(""),p=i(!1),n=i(!0);E(()=>{h(+u.params.id)});async function h(s){n.value=!0,a.value=!0;try{const e=await I(s);e.code!==200&&await Promise.reject(),f.value=e.profile.nickname,await y(s),n.value=!1}catch{x("è·å–ç”¨æˆ·ç²‰ä¸åˆ—è¡¨å¤±è´¥ ğŸ˜","warning"),d.replace("/404")}}async function y(s){a.value=!0;const e=await W(s,r.length);e.code===200?(e.followeds.forEach(v=>{r.push(v)}),_.value=e.more,a.value=!1):e.code===400?(x("ç”¨æˆ·éšç§æ— æƒé™æŸ¥çœ‹ ğŸ˜€","warning"),_.value=e.more,a.value=!1,p.value=!0):await Promise.reject()}return C(s=>{r.length=0,p.value=!1,h(+s.params.id)}),(s,e)=>{const v=A,w=U;return t(),g("div",Z,[m("div",G,[m("span",H,N(f.value?f.value:"æœªçŸ¥ç”¨æˆ·"),1),J]),n.value?(t(),l($,{key:0,length:20})):c("",!0),m("div",K,[n.value?c("",!0):(t(),g("ul",O,[(t(!0),g(R,null,V(r,k=>(t(),l(P,{key:k.userId,data:k},null,8,["data"]))),128))])),_.value&&!n.value?(t(),l(v,{key:1,loading:a.value,style:{"align-self":"center",padding:"0 80px"},strong:"",secondary:"",onClick:e[0]||(e[0]=()=>y(+M(u).params.id))},{default:j(()=>[L("åŠ è½½æ›´å¤š")]),_:1},8,["loading"])):c("",!0),!a.value&&!r.length&&!p.value?(t(),l(w,{key:2,description:"è¯¥ç”¨æˆ·æ²¡æœ‰ç²‰ä¸å“Ÿ ğŸ˜‹","show-btn":!1})):c("",!0),!a.value&&p.value?(t(),l(w,{key:3,description:"ç”¨æˆ·éšç§è®¾ç½®ä¸å…è®¸æŸ¥çœ‹","show-btn":!0})):c("",!0)])])}}});const Be=T(Q,[["__scopeId","data-v-78915c5c"]]);export{Be as default};
