import{r as w,m as F,a as Z,_ as C,b as q,c as j,S as G,A as J,d as K,g as O,u as Q}from"./index-1f548d76.js";import{u as P}from"./vue-router-70c59f8f.js";import{A as W,v as Y,B as X,z as T,C as ee,D as te,_ as se}from"./naive-ui-809e5fbb.js";import{d as $,r as L,I as U,g as z,w as ne,a0 as oe,o as t,c as d,V as n,W as a,F as k,a3 as R,E as B,a1 as v,S as I,a as g,e as h,$ as x,a6 as M,X as ae,U as E,a4 as V}from"./@vue-923429e4.js";import{_ as A}from"./vue-img-cutter-7be274e5.js";import{T as S}from"./TitleHeader-f4057bc5.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";const re=()=>w.get("/banner"),le=(u=12)=>w.get("/personalized/newsong",{params:{limit:u}}),ce=(u=12)=>w.get("/personalized",{params:{limit:u}}),ie=(u=12)=>w.get("/personalized/mv",{params:{limit:u}}),_e=(u=-1,s=12)=>w.get("/artist/list",{params:{limit:s,area:u}}),ue=()=>w.get("/album/newest"),de=["src"],pe=$({__name:"Banner",setup(u){const s=P(),o=L(!0),l=U([]),i=L(!1),_=L(0),p=L(0);function e(){const r=document.documentElement.clientWidth;_.value=r*.3,r<600?i.value=!0:i.value=!1}z(async()=>{e(),window.addEventListener("resize",e);const r=await re();r.code===200&&(r.banners.forEach(m=>{l.push(m)}),ne(p,m=>{m===l.length&&(o.value=!1)}))}),oe(()=>{window.removeEventListener("resize",e)});function c(r,m){m===1?s.push(`/song/${r}`):m===1e3?s.push(`/playlist/${r}`):m===3e3?F("是否要跳转到站外链接?😢").then(()=>{location.href=l[l.findIndex(b=>b.targetId===r)].url}):m===10?s.push(`/album/${r}`):m===1004?s.push(`/mv/${r}`):Z("是不知道的路由跳转呢,给我说一声马上改bug~😁","info")}return(r,m)=>{const b=X,y=W,N=Y;return t(),d(k,null,[n(y,{effect:i.value?"slide":"card",loop:"",draggable:"",autoplay:"","prev-slide-style":i.value?"":"transform: translateX(-92%) translateZ(-500px);","next-slide-style":i.value?"":"transform: translateX(-10%) translateZ(-500px);",style:B({height:o.value?"0":_.value+"px",maxHeight:o.value?"0":"300px",minHeight:o.value?0:"135px"}),"show-dots":""},{default:a(()=>[(t(!0),d(k,null,R(l,f=>(t(),v(b,{style:B({width:i.value?"100%":"80%",borderRadius:"10px"}),key:f.imageUrl,onClick:D=>c(f.targetId,f.targetType)},{default:a(()=>[g("img",{class:"carousel-img",src:f.imageUrl,onLoad:m[0]||(m[0]=D=>p.value++)},null,40,de)]),_:2},1032,["style","onClick"]))),128))]),_:1},8,["effect","prev-slide-style","next-slide-style","style"]),o.value?(t(),v(N,{key:0,style:B({height:_.value+"px",borderRadius:"10px"}),width:" 100%"},null,8,["style"])):I("",!0)],64)}}});const me=A(pe,[["__scopeId","data-v-e238930a"]]),fe=u=>{const s=U([]),o=L(!1);return z(async()=>{o.value=!0;const l=await u();l.code===200&&l.result.forEach(i=>{s.push(i)}),o.value=!1}),{list:s,isLoading:o}},H=fe,ge={class:"music-list recommend-playlist"},ve={key:1},he=$({__name:"RePlaylist",setup(u){const{list:s,isLoading:o}=H(ce);return(l,i)=>{const _=T,p=M("RouterLink"),e=C,c=q;return t(),d("div",ge,[n(S,{title:"推荐的歌单"},{default:a(()=>[n(p,{to:"/discover/playlist"},{default:a(()=>[n(_,{class:"text"},{default:a(()=>[h(" 查看更多 ")]),_:1})]),_:1})]),_:1}),x(o)?(t(),v(e,{key:0,"cover-radius":10,length:12,"text-center":!1})):(t(),d("ul",ve,[(t(!0),d(k,null,R(x(s),r=>(t(),v(c,{"cover-img-url":r.picUrl,id:r.id,name:r.name,"play-count":r.playCount},null,8,["cover-img-url","id","name","play-count"]))),256))]))])}}}),ye={class:"music-list recommend-mv"},xe={key:1},ke=$({__name:"ReMv",setup(u){const{list:s,isLoading:o}=H(ie);return(l,i)=>{const _=C,p=j;return t(),d("div",ye,[n(S,{title:"推荐的mv"}),x(o)?(t(),v(_,{key:0,"cover-radius":10,length:12,"text-center":!1})):(t(),d("ul",xe,[(t(!0),d(k,null,R(x(s),e=>(t(),v(p,{"cover-url":e.picUrl,creators:e.artists.map(c=>({userId:c.id,userName:c.name})),durationms:e.duration,"play-time":e.playCount,title:e.name,vid:e.id},null,8,["cover-url","creators","durationms","play-time","title","vid"]))),256))]))])}}}),$e={class:"music-list recommend-song"},be=$({__name:"ReSong",setup(u){const{list:s,isLoading:o}=H(le);return(l,i)=>{const _=T,p=M("RouterLink"),e=C;return t(),d("div",$e,[n(S,{title:"推荐的歌曲"},{default:a(()=>[n(p,{to:"/discover/song"},{default:a(()=>[n(_,{class:"text"},{default:a(()=>[h(" 查看更多 ")]),_:1})]),_:1})]),_:1}),x(o)?(t(),v(e,{key:0,"cover-radius":10,length:12,"text-center":!1})):I("",!0),g("ul",{class:ae(x(o)?"loading-box":"")},[(t(!0),d(k,null,R(x(s),c=>(t(),v(G,{key:c.id,name:c.name,id:c.id,"pic-url":c.picUrl,song:c.song},null,8,["name","id","pic-url","song"]))),128))],2)])}}});const Le=A(be,[["__scopeId","data-v-0bd92f6d"]]),Re={class:"music-list recommend-artist"},we=$({__name:"ReArtist",setup(u){const s=U([]),o=L(!1);async function l(_=-1){o.value=!0,s.splice(0,s.length);const p=await _e(_);p.code===200&&(p.artists.forEach(e=>{s.push(e)}),o.value=!1)}function i(_){l(_)}return z(()=>{l()}),(_,p)=>{const e=ee,c=te,r=T,m=M("RouterLink"),b=C;return t(),d("div",Re,[n(S,{title:"热门歌手"},{titleMore:a(()=>[n(c,{class:"tabs",style:{"font-size":"12px"},size:"small",type:"line","onUpdate:value":i},{default:a(()=>[n(e,{name:-1,style:{"font-size":"12px"}},{default:a(()=>[h(" 全部类型 ")]),_:1}),n(e,{name:7,style:{"font-size":"12px"}},{default:a(()=>[h(" 华语 ")]),_:1}),n(e,{name:96,style:{"font-size":"12px"}},{default:a(()=>[h(" 欧美 ")]),_:1}),n(e,{name:8,style:{"font-size":"12px"}},{default:a(()=>[h(" 日本 ")]),_:1})]),_:1})]),default:a(()=>[n(m,{to:"/discover/artist"},{default:a(()=>[n(r,{class:"text"},{default:a(()=>[h(" 查看更多 ")]),_:1})]),_:1})]),_:1}),o.value?(t(),v(b,{key:0,length:12,"text-center":!0,"cover-radius":50})):I("",!0),g("ul",null,[(t(!0),d(k,null,R(s,y=>(t(),v(J,{id:y.id,name:y.name,picUrl:y.img1v1Url,key:y.id},{default:a(()=>[n(r,{class:"text"},{default:a(()=>[h(E(y.musicSize)+" 首 ",1)]),_:2},1024)]),_:2},1032,["id","name","picUrl"]))),128))])])}}});const Se=A(we,[["__scopeId","data-v-c377acf3"]]),Ce={class:"music-list recommend-album"},Ue=$({__name:"NewAlbum",setup(u){const s=U([]),o=L(!0);return z(async()=>{const l=await ue();l.code===200&&(l.albums.forEach(i=>{s.push(i)}),o.value=!1)}),(l,i)=>{const _=C,p=K;return t(),d("div",Ce,[n(S,{title:"新碟上架"}),o.value?(t(),v(_,{key:0,"cover-radius":10,length:12,"text-center":!1})):I("",!0),g("ul",null,[(t(!0),d(k,null,R(s,e=>(t(),v(p,{artists:e.artists,id:e.id,"pic-url":e.picUrl,name:e.name,key:e.id,"sub-time":e.publishTime},null,8,["artists","id","pic-url","name","sub-time"]))),128))])])}}}),ze={class:"daily-songs"},Ie={class:"song-cover"},Ae={class:"cover-mask"},Be=["src"],Ee=["src"],Te={class:"song-infor"},Me=["onClick"],Ne=["onClick"],De=$({__name:"DailSong",setup(u){const s=P(),o=U([]),l=[];z(async()=>{const e=await O();e.code===200&&(e.data.recommendReasons.forEach(c=>{l.push(c)}),e.data.dailySongs.filter(c=>l.findIndex(r=>r.songId===c.id)!=-1).forEach(c=>{o.push(c)}))});function i(){s.push("/daily-song")}function _(e){s.push(`/song/${e}`)}function p(e){s.push(`/artist/${e}`)}return(e,c)=>{const r=T,m=M("RouterLink"),b=se,y=X,N=W;return t(),d("div",ze,[n(S,{title:"每日推荐",style:{"margin-bottom":"10px"}},{default:a(()=>[n(m,{to:"/daily-song"},{default:a(()=>[n(r,{class:"text"},{default:a(()=>[h(" 查看更多 ")]),_:1})]),_:1})]),_:1}),n(N,{style:{"max-height":"250px","border-radius":"10px",overflow:"hidden"},"show-arrow":"","show-dots":!1},{default:a(()=>[(t(!0),d(k,null,R(o,f=>(t(),v(y,{key:f.id,style:B({backgroundImage:`url(${f.al.picUrl})`})},{default:a(()=>[g("div",{class:"daily-item",onClick:i},[g("div",null,[g("div",Ie,[g("div",Ae,[g("img",{src:f.al.picUrl},null,8,Be)]),g("img",{src:f.al.picUrl},null,8,Ee)])]),g("div",Te,[n(r,{class:"song-reason"},{default:a(()=>[h('"'+E(f.reason)+'"',1)]),_:2},1024),g("div",null,[n(b,{tooltip:!1},{default:a(()=>[g("span",{class:"text",onClick:V(D=>_(f.id),["stop"])},E(f.name),9,Me),h(" -- "),g("span",{class:"text",onClick:V(D=>p(f.ar[0].id),["stop"])},E(f.ar[0].name),9,Ne)]),_:2},1024)])])])]),_:2},1032,["style"]))),128))]),_:1})])}}});const He=A(De,[["__scopeId","data-v-6dbf18ea"]]),Ve={class:"page"},Pe=$({__name:"Home",setup(u){const s=Q();return(o,l)=>(t(),d("div",Ve,[n(me),x(s).isLogin&&x(s).cookie?(t(),v(He,{key:0})):I("",!0),n(he),n(Le),n(Se),n(Ue),n(ke)]))}});const ft=A(Pe,[["__scopeId","data-v-dc37313a"]]);export{ft as default};
