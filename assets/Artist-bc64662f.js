import{r as S,a as _,_ as w,A as x,i as C}from"./index-1f548d76.js";import{u as A}from"./useSearchList-34053338.js";import{d as L,I as U,o as s,c as l,$ as t,F as B,a3 as E,S as u,a1 as c,W as F,e as $,U as b,L as d}from"./@vue-923429e4.js";import{F as D}from"./naive-ui-809e5fbb.js";import"./pinia-6f3a18e1.js";import"./vue-demi-71ba0ef2.js";import"./pinia-plugin-persistedstate-4f3b1591.js";import"./axios-760d4776.js";import"./nprogress-93825526.js";import"./artplayer-dacbf558.js";import"./@vicons-ed1f5506.js";import"./vue-router-70c59f8f.js";import"./vue-img-cutter-7be274e5.js";import"./pubsub-js-4eb33f76.js";/* empty css               */import"./vueuc-f6692277.js";import"./evtd-b614532e.js";import"./seemly-d1bbd19f.js";import"./@css-render-39cdbd82.js";import"./vooks-13ee1ac7.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-c742445b.js";import"./treemate-25c27bff.js";import"./date-fns-975a2d8f.js";const N=(g,e,o=20)=>S.get("/cloudsearch",{params:{keywords:g,type:100,offset:(e-1)*o,limit:o}}),P={class:"search-tab music-list"},V={key:0},ct=L({__name:"Artist",setup(g){const e=U([]),{isLoading:o,page:p,pageSize:i,pageSizes:f,keywords:h,total:m}=A(y);async function y(){e.length=0;try{const a=await N(h.value,p.value,i.value);if(e.length)return;if(a.code!==200&&await Promise.reject(),a.result.artistCount===0){_("搜索结果为空 👀","info");return}m.value=a.result.artistCount,a.result.artists.forEach(n=>e.push(n))}catch{_("搜索歌手失败 🧐","warning")}}return(a,n)=>{const k=D,v=C,z=w;return s(),l("div",P,[t(o)?u("",!0):(s(),l("ul",V,[(s(!0),l(B,null,E(e,r=>(s(),c(x,{id:r.id,key:r.id,name:r.name,"pic-url":r.img1v1Url},null,8,["id","name","pic-url"]))),128))])),t(m)/t(i)>1&&e.length&&!t(o)?(s(),c(k,{key:1,style:{"align-self":"center"},"page-slot":6,page:t(p),"onUpdate:page":n[0]||(n[0]=r=>d(p)?p.value=r:null),"item-count":t(m),"page-size":t(i),"onUpdate:pageSize":n[1]||(n[1]=r=>d(i)?i.value=r:null),"show-size-picker":"","page-sizes":t(f)},{prefix:F(()=>[$(" 共 "+b(t(m))+" 项 ",1)]),_:1},8,["page","item-count","page-size","page-sizes"])):u("",!0),!e.length&&!t(o)?(s(),c(v,{key:2,description:"搜索的关键词太犀利了,没有搜索结果呢 🥱","show-btn":!0})):u("",!0),t(o)?(s(),c(z,{key:3,length:t(i),"cover-radius":50,"text-center":!0},null,8,["length"])):u("",!0)])}}});export{ct as default};
