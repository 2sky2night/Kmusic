import{u as d,o as h,a as q}from"./vue-router-70c59f8f.js";import{e as m}from"./index-1f548d76.js";import{P as k}from"./pubsub-js-4eb33f76.js";import{r as o,g as b,w as y,i as P}from"./@vue-923429e4.js";const S=t=>{const u=q(),p=d(),a=o(u.query.page?m(+u.query.page):1),i=o(0),e=o(!1),r=P("keywordsNow"),n=o(12),v=[{label:"12 每页",value:12},{label:"24 每页",value:24},{label:"36 每页",value:36},{label:"72 每页",value:72},{label:"100 每页",value:100}];return b(async()=>{e.value=!0,await t(),e.value=!1}),y(a,s=>{p.push({path:u.path,query:{keywords:r.value,page:s}})}),y(n,async()=>{a.value===1?(e.value=!0,await t(),e.value=!1,k.publish("to-top")):(a.value=1,p.replace({path:u.path,query:{keywords:r.value,page:1}}))}),h(async(s,l)=>{e.value=!0;const g=s.query.keywords,w=l.query.keywords,c=s.query.page?+s.query.page:1,f=l.query.page?+l.query.page:1;c!==f&&(a.value=c),g!==w&&(a.value=1),await t(),e.value=!1}),{page:a,total:i,isLoading:e,keywords:r,pageSize:n,pageSizes:v}},K=S;export{K as u};
